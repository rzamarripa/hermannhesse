<div class="row">
	<div class="col-xs-12 col-sm-7 col-md-7 col-lg-4">
		<h1 class="page-title txt-color-blueDark"><i class="fa-fw fa fa-puzzle-piece"></i> Foros <span>&gt; Vista General </span></h1>
	</div>
</div>
<div class="row">
	<div class="col-sm-12">
		<a class="btn btn-{{f.nuevo == true ? 'primary' : 'danger'}}" role="button" data-toggle="collapse" 
			href="#collapseExample" aria-expanded="false" aria-controls="collapseExample"
				ng-click="f.nuevoForo()">
		  {{f.nuevo == true ? 'Nuevo' : 'Cancelar'}}
		</a>
		<div class="collapse" id="collapseExample">
			<form name="form" class="form-horizontal" role="form" novalidate>
		  	<div class="well">		  		
			    <div class="row">			    	
			    	<div class="col-sm-7" valida>
						  <label>Título *</label>
				    	<input name="nombre" type="text" class="form-control"  ng-model="f.foro.titulo" required="">
			    	</div>
			    	<div class="col-sm-5" valida>
							<label>Categoría *</label>
							<select name="categoria" class="form-control" placeholder="Seleccione" ng-model="f.foro.categoria_id" required="">
								<option ng-repeat="categoria in f.categoriasForos" value="{{categoria._id}}">
									{{categoria.nombre}}
								</option>
							</select>
						</div>
			    </div>
			    <div class="row">
			    	<div class="col-sm-12">
				    	<label>Descripción</label>
			    		<textarea class="form-control" rows="4" ng-model="f.foro.descripcion"></textarea>
			    	</div>
			    </div>
				</div>
				<div class="row">
					<div class="col-sm-12">
						<input type="submit" ng-click="f.guardar(f.foro,form)" value="Guardar" class="btn btn-primary" ng-show="f.action" valida-form formulario="form"/>
						<input type="submit" ng-click="f.actualizar(f.foro,form)" value="Actualizar" class="btn btn-primary" ng-show="!f.action" valida-form formulario="form"/>				
					</div>
				</div>	  
		  </form>
		</div>
	</div>
</div>
<br/>
<div class="row">

	<div class="col-sm-12">

		<div class="well">

			<table class="table table-striped table-forum">
				<thead>
					<tr>
						<th colspan="2">Foros</th>
						<th class="text-center hidden-xs hidden-sm" style="width: 100px;">Categoría</th>
						<th class="text-center hidden-xs hidden-sm" style="width: 100px;">Posts</th>
						<th class="hidden-xs hidden-sm" style="width: 200px;">Último Post</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="foro in f.foros">
						<td class="text-center" style="width: 40px;"><i class="fa fa-globe fa-2x text-muted"></i></td>
						<td>
							<h4><a ui-sref="root.foroDetalle({foro_id : foro._id, grupo_id : foro.grupo_id})">
								{{foro.titulo}}
							</a>
								<small>{{foro.descripcion}}</small>
							</h4>
						</td>
						<td class="text-center hidden-xs hidden-sm">
							{{f.getCategoria(foro.categoria_id)}}
						</td>
						<td class="text-center hidden-xs hidden-sm">
							<a ui-sref="root.foroDetalle({foro_id : foro._id, grupo_id : foro.grupo_id})">{{foro.comentarios.length}}</a>
						</td>
						<td class="hidden-xs hidden-sm">por 
							{{foro.nombreUsuarioUltimoPost}}
							<br>
							<small><i>{{foro.ultimoPost | date: "dd-MM-yyyy HH:mm:ss"}}</i></small>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>

</div>